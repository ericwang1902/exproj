
<div class="panel panel-default">
  <div class="panel-heading">订单详情</div>
  <div  class="panel-body">
        <div id="orderDetail">{{{sysorder.template}}}</div>
        <canvas id="detailprintcanvas" ></canvas>         
        <button class="btn btn-primary" onclick="printorder()">打印</button>
  </div>
</div>

<script type="text/javascript">
  var printorder = function(){
    var height1 = $("#orderDetail").height()
    var width1=$("#orderDetail").width()
    $("#detailprintcanvas").height(height1)
    $("#detailprintcanvas").width(width1)
    var canvas = document.querySelector("#detailprintcanvas");
      //  html2canvas(document.querySelector("#orderDetail"), {canvas: canvas}).then(function(canvas) {
      //       console.log('Drew on the existing canvas');
      //   });
        html2canvas(document.querySelector("#orderDetail")).then(function(canvas) {
            document.querySelector("#orderDetail").appendChild(canvas);
        });

     $("#detailprintcanvas").print({
            globalStyles: false,
            mediaPrint: false,
            stylesheet: null,
            noPrintSelector: ".no-print",
            iframe: true,
            append: null,
            prepend: null,
            manuallyCopyFormValues: true,
            deferred: $.Deferred(),
            timeout: 250,
                title: null,
                doctype: '<!doctype html>'
    });
  }
</script>
    <script type="text/javascript" src="/js/html2canvas.js"></script>